import{d as a,y as w,o as r,c as k,w as C,a as e,e as l,h as m,F as p,l as L,I as A,f as B,t as n}from"./app-8c6b2bff.js";import U from"./AdminPannel-65c54c81.js";const E={class:"flex flex-col mt-8 mx-6"},M={class:"py-2 -my-2 overflow-x-auto sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8"},H={class:"inline-block min-w-full overflow-hidden align-middle border-b border-gray-200 shadow sm:rounded-lg"},I={class:"min-w-full"},V=e("thead",null,[e("tr",null,[e("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200 bg-gray-50"}," Nombre "),e("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200 bg-gray-50"}," Correo "),e("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200 bg-gray-50"}," Rol "),e("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200 bg-gray-50"}," Editar Rol "),e("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200 bg-gray-50"}," Eliminar ")])],-1),$={class:"bg-white"},j={class:"px-6 py-4 border-b border-gray-200 whitespace-nowrap"},N={class:"flex items-center"},P={class:"ml-4"},R={class:"text-sm font-medium leading-5 text-gray-900"},z={class:"px-6 py-4 border-b border-gray-200 whitespace-nowrap"},D={class:"flex items-center"},F={class:"ml-4"},S={class:"text-sm font-medium leading-5 text-gray-900"},O={class:"px-6 py-4 border-b border-gray-200 whitespace-nowrap"},q={class:"flex items-center"},G={class:"ml-4"},J={class:"text-sm font-medium leading-5 text-gray-900"},K={class:"px-6 py-4 border-b border-gray-200 whitespace-nowrap"},Q={class:"flex items-center"},T={class:"ml-4"},W={class:"text-sm leading-5 text-gray-500"},X=["onClick"],Y=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),Z=[Y],ee={class:"px-6 py-4 border-b border-gray-200 whitespace-nowrap"},te={class:"flex items-center"},se={class:"ml-4"},oe={class:"text-sm leading-5 text-gray-500"},re=["onClick"],ae=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),le=[ae],ie={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},ne={class:"bg-white p-6 rounded-lg shadow-lg"},de={class:"mb-4"},ce=e("label",{for:"role_id",class:"text-gray-700"},"Id del Rol",-1),ue=["value"],_e={class:"text-center"},pe={__name:"Index",props:{usersProp:Array,avaliableRoles:Array},setup(u){const _=u;a(!1);const i=a([]),d=a(!1),c=a(""),g=a(null);console.log(_.usersProp);const x=o=>{d.value=!0,g.value=o},b=async()=>{const o=route("users.update",{user:g.value});try{await axios.patch(o,{role_id:c.value}),location.reload()}catch(s){return s}};w(()=>{i.value={..._.usersProp}});const h=async o=>{if(!confirm("seguro desea borrar?"))return;const s=`users/${o}`;try{await axios.delete(s),y(o)}catch{alert("Hubo un problema al borrar el user seleccionado")}},y=o=>{i.value=i.value.filter(s=>s.id!==o)};return(o,s)=>(r(),k(U,{class:"bg-unibague-blue bg-opacity-5"},{default:C(()=>[e("div",null,[e("div",E,[e("div",M,[e("div",H,[e("table",I,[V,e("tbody",$,[(r(!0),l(p,null,m(i.value,(t,v)=>(r(),l("tr",{key:v},[e("td",j,[e("div",N,[e("div",P,[e("div",R,n(t.name),1)])])]),e("td",z,[e("div",D,[e("div",F,[e("div",S,n(t.email),1)])])]),e("td",O,[e("div",q,[e("div",G,[e("div",J,n(t.role.name),1)])])]),e("td",K,[e("div",Q,[e("div",T,[e("div",W,[e("button",{onClick:f=>x(t.id)},Z,8,X)])])])]),e("td",ee,[e("div",te,[e("div",se,[e("div",oe,[e("button",{onClick:f=>h(t.id)},le,8,re)])])])])]))),128))])])])])])]),d.value?(r(),l("div",ie,[e("div",ne,[e("div",de,[ce,L(e("select",{name:"role_id",id:"role_id","onUpdate:modelValue":s[0]||(s[0]=t=>c.value=t),class:"w-full mt-2 px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[(r(!0),l(p,null,m(u.avaliableRoles,t=>(r(),l("option",{key:t.id,value:t.id},n(t.name),9,ue))),128))],512),[[A,c.value]])]),e("div",_e,[e("button",{type:"button",onClick:s[1]||(s[1]=()=>{d.value=!1}),class:"px-4 py-2 mr-2 bg-gray-300 text-gray-700 rounded-full hover:bg-gray-400 transition duration-200"}," Cerrar "),e("button",{onClick:b,class:"px-4 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition duration-200"}," Aceptar ")])])])):B("",!0)]),_:1}))}};export{pe as default};
