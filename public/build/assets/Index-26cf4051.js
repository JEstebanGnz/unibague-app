import{d as a,y as w,o as r,c as k,w as C,a as e,e as l,h as m,F as p,l as L,a3 as U,f as A,t as n}from"./app-09fddc51.js";import B from"./AdminPannel-08873d27.js";const E=e("div",{class:"text-4xl font-semibold text-unibague-blue",style:{"text-align":"center"}}," Gestionar Usuarios ",-1),M={class:"flex flex-col mt-8 mx-6"},H={class:"py-2 -my-2 overflow-x-auto sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8"},V={class:"inline-block min-w-full overflow-hidden align-middle border-b border-gray-200 shadow sm:rounded-lg"},$={class:"min-w-full"},j=e("thead",null,[e("tr",null,[e("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200 bg-gray-50"}," Nombre "),e("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200 bg-gray-50"}," Correo "),e("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200 bg-gray-50"}," Rol "),e("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200 bg-gray-50"}," Editar Rol "),e("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200 bg-gray-50"}," Eliminar ")])],-1),I={class:"bg-white"},N={class:"px-6 py-4 border-b border-gray-200 whitespace-nowrap"},P={class:"flex items-center"},R={class:"ml-4"},z={class:"text-sm font-medium leading-5 text-gray-900"},D={class:"px-6 py-4 border-b border-gray-200 whitespace-nowrap"},F={class:"flex items-center"},S={class:"ml-4"},G={class:"text-sm font-medium leading-5 text-gray-900"},O={class:"px-6 py-4 border-b border-gray-200 whitespace-nowrap"},q={class:"flex items-center"},J={class:"ml-4"},K={class:"text-sm font-medium leading-5 text-gray-900"},Q={class:"px-6 py-4 border-b border-gray-200 whitespace-nowrap"},T={class:"flex items-center"},W={class:"ml-4"},X={class:"text-sm leading-5 text-gray-500"},Y=["onClick"],Z=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),ee=[Z],te={class:"px-6 py-4 border-b border-gray-200 whitespace-nowrap"},se={class:"flex items-center"},oe={class:"ml-4"},re={class:"text-sm leading-5 text-gray-500"},ae=["onClick"],le=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),ie=[le],ne={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},de={class:"bg-white p-6 rounded-lg shadow-lg"},ce={class:"mb-4"},ue=e("label",{for:"role_id",class:"text-gray-700"},"Id del Rol",-1),_e=["value"],ge={class:"text-center"},xe={__name:"Index",props:{usersProp:Array,avaliableRoles:Array},setup(u){const _=u;a(!1);const i=a([]),d=a(!1),c=a(""),g=a(null);console.log(_.usersProp);const x=o=>{d.value=!0,g.value=o},b=async()=>{const o=route("users.update",{user:g.value});try{await axios.patch(o,{role_id:c.value}),location.reload()}catch(s){return s}};w(()=>{i.value={..._.usersProp}});const h=async o=>{if(!confirm("seguro desea borrar?"))return;const s=`users/${o}`;try{await axios.delete(s),y(o)}catch{alert("Hubo un problema al borrar el user seleccionado")}},y=o=>{i.value=i.value.filter(s=>s.id!==o)};return(o,s)=>(r(),k(B,{class:"bg-unibague-blue bg-opacity-5"},{default:C(()=>[e("div",null,[E,e("div",M,[e("div",H,[e("div",V,[e("table",$,[j,e("tbody",I,[(r(!0),l(p,null,m(i.value,(t,v)=>(r(),l("tr",{key:v},[e("td",N,[e("div",P,[e("div",R,[e("div",z,n(t.name),1)])])]),e("td",D,[e("div",F,[e("div",S,[e("div",G,n(t.email),1)])])]),e("td",O,[e("div",q,[e("div",J,[e("div",K,n(t.role.name),1)])])]),e("td",Q,[e("div",T,[e("div",W,[e("div",X,[e("button",{onClick:f=>x(t.id)},ee,8,Y)])])])]),e("td",te,[e("div",se,[e("div",oe,[e("div",re,[e("button",{onClick:f=>h(t.id)},ie,8,ae)])])])])]))),128))])])])])])]),d.value?(r(),l("div",ne,[e("div",de,[e("div",ce,[ue,L(e("select",{name:"role_id",id:"role_id","onUpdate:modelValue":s[0]||(s[0]=t=>c.value=t),class:"w-full mt-2 px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[(r(!0),l(p,null,m(u.avaliableRoles,t=>(r(),l("option",{key:t.id,value:t.id},n(t.name),9,_e))),128))],512),[[U,c.value]])]),e("div",ge,[e("button",{type:"button",onClick:s[1]||(s[1]=()=>{d.value=!1}),class:"px-4 py-2 mr-2 bg-gray-300 text-gray-700 rounded-full hover:bg-gray-400 transition duration-200"}," Cerrar "),e("button",{onClick:b,class:"px-4 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition duration-200"}," Aceptar ")])])])):A("",!0)]),_:1}))}};export{xe as default};
