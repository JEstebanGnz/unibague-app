import{o as a,e as c,a as e,F as w,d as x,J as B,y as D,c as _,w as P,h as I,b as T,l as u,a1 as h,a2 as k,a3 as $,f as y,t as f,v as S}from"./app-e9876731.js";import H from"./AdminPannel-48a367c8.js";import{A as z}from"./AddButton-f4f7aa40.js";import"./_plugin-vue_export-helper-c27b6911.js";const F={class:"mb-4"},J=e("label",{for:"link",class:"text-gray-700"},"Link del componente",-1),G=["value"],R={__name:"InternRedirect",props:{payload:{type:Object}},setup(m){const n=m,p=i=>({link:i}),b=()=>(console.log("props",n),n.payload.link||"");return(i,s)=>(a(),c("div",F,[J,e("input",{type:"text",name:"link",id:"link",value:b(),onInput:s[0]||(s[0]=o=>i.$emit("updated",p(o.target.value))),required:"",class:"w-full mt-2 px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,40,G)]))}},K={class:"mb-4"},Q=e("label",{for:"SimpleLink",class:"text-gray-700"},"Link del sitio web",-1),W=["value"],C={__name:"ExternalSimpleRedirect",props:{payload:{type:Object}},setup(m){const n=m,p=()=>n.payload.link||"",b=i=>({link:i});return(i,s)=>(a(),c("div",K,[Q,e("input",{type:"text",name:"SimpleLink",id:"SimpleLink",value:p(),onInput:s[0]||(s[0]=o=>i.$emit("updated",b(o.target.value))),required:"",class:"w-full mt-2 px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,40,W)]))}},X={class:"mb-4"},Y=e("label",{for:"IOSlink",class:"text-gray-700"},"Link del sitio para usuarios IOS",-1),Z=["value"],ee={class:"mb-4"},te=e("label",{for:"AndroidLink",class:"text-gray-700"},"Link del sitio para usuarios Android",-1),oe=["value"],le={class:"mb-4"},se=e("label",{for:"DefaultLink",class:"text-gray-700"},"Link por defecto del sitio ",-1),ae=["value"],U={__name:"ExternalComplexRedirect",props:{payload:{type:Object}},setup(m){const n=m,p=()=>n.payload.IOSLink||"",b=()=>n.payload.androidLink||"",i=()=>n.payload.defaultLink||"",s=(o,d)=>{if(o==="IOSLink")return{IOSLink:d,androidLink:n.payload.androidLink||"",defaultLink:n.payload.defaultLink||""};if(o==="androidLink")return{IOSLink:n.payload.IOSLink||"",androidLink:d,defaultLink:n.payload.defaultLink||""};if(o==="defaultLink")return{IOSLink:n.payload.IOSLink||"",androidLink:n.payload.androidLink||"",defaultLink:d}};return(o,d)=>(a(),c(w,null,[e("div",X,[Y,e("input",{type:"text",name:"IOSlink",id:"IOSlink",value:p(),onInput:d[0]||(d[0]=v=>o.$emit("updated",s("IOSLink",v.target.value))),required:"",class:"w-full mt-2 px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,40,Z)]),e("div",ee,[te,e("input",{type:"text",name:"AndroidLink",id:"AndroidLink",value:b(),onInput:d[1]||(d[1]=v=>o.$emit("updated",s("androidLink",v.target.value))),required:"",class:"w-full mt-2 px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,40,oe)]),e("div",le,[se,e("input",{type:"text",name:"DefaultLink",id:"DefaultLink",value:i(),onInput:d[2]||(d[2]=v=>o.$emit("updated",s("defaultLink",v.target.value))),required:"",class:"w-full mt-2 px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,40,ae)])],64))}},re={class:"flex flex-col mt-8 mx-6"},ne={class:"py-2 -my-2 overflow-x-auto sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8"},ie={class:"inline-block min-w-full overflow-hidden align-middle border-b border-gray-200 shadow sm:rounded-lg"},de={class:"min-w-full"},ue=e("thead",{class:"bg-unibague-blue text-white"},[e("tr",null,[e("th",{class:"px-6 py-3"}," Nombre "),e("th",{class:"px-6 py-3"}," Icono "),e("th",{class:"px-6 py-3"}," Tipo "),e("th",{class:"px-6 py-3"}," Visibilidad "),e("th",{class:"px-6 py-3"}," Editar "),e("th",{class:"px-6 py-3"}," Eliminar ")])],-1),ce={class:"bg-white"},pe={class:"px-6 py-4 border-b border-gray-200"},be={class:"flex items-center"},me={class:"ml-4"},ye={class:"text-sm font-medium leading-5 text-gray-900"},ve={class:"px-6 py-4 border-b border-gray-200"},_e={class:"flex items-center"},ge={class:"ml-4"},fe={class:"text-sm font-medium leading-5 text-gray-900"},xe={class:"px-6 py-4 border-b border-gray-200"},he={class:"flex items-center"},ke={class:"ml-4"},we={class:"text-sm font-medium leading-5 text-gray-900"},Le={class:"px-6 py-4 border-b border-gray-200"},Ve={class:"flex items-center"},Ie={class:"ml-4"},$e={class:"text-sm font-medium leading-5 text-gray-900"},Se={class:"px-6 py-4 border-b border-gray-200"},Re={class:"flex items-center"},Ce={class:"ml-4"},Ue={class:"text-sm leading-5 text-gray-500"},Oe=["onClick"],Ee=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),Me=[Ee],qe={class:"px-6 py-4 border-b border-gray-200"},Ae={class:"flex items-center"},Ne={class:"ml-4"},je={class:"text-sm leading-5 text-gray-500"},Be=["onClick"],De=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),Pe=[De],Te={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50"},He={class:"bg-white p-8 rounded-lg shadow-lg h-2/3 overflow-auto"},ze={class:"mb-4"},Fe=e("label",{for:"name",class:"text-gray-700"},"Nombre",-1),Je={class:"mb-4"},Ge=e("label",{for:"icon",class:"text-gray-700"},"Icono",-1),Ke={class:"mb-4"},Qe=e("div",null,"Visibilidad",-1),We=e("label",{for:"visible",class:"text-gray-700"},"Si",-1),Xe=e("label",{for:"noVisible",class:"text-gray-700"},"No",-1),Ye=e("label",{for:"moduleTypes",class:"block mb-2 text-gray-700"},"Tipo",-1),Ze=e("option",{value:"InternalRedirect"},"Redireccion interna ",-1),et=e("option",{value:"ExternalSimpleRedirect"},"Redireccion externa simple ",-1),tt=e("option",{value:"ExternalComplexRedirect"},"Redireccion externa condicional ",-1),ot=[Ze,et,tt],lt=e("label",{for:"roles",class:"text-gray-700"},"Roles",-1),st=["value"],at={class:"text-center"},rt={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},nt={class:"bg-white p-8 rounded-lg shadow-lg h-2/3 overflow-auto"},it={class:"mb-4"},dt=e("label",{for:"name",class:"text-gray-700"},"Nombre",-1),ut={class:"mb-4"},ct=e("label",{for:"icon",class:"text-gray-700"},"Icono",-1),pt={class:"mb-4"},bt=e("div",null,"Visibilidad",-1),mt=e("label",{for:"visible",class:"text-gray-700"},"Si",-1),yt=e("label",{for:"noVisible",class:"text-gray-700"},"No",-1),vt=e("label",{for:"moduleTypes",class:"block mb-2 text-gray-700"},"Tipo",-1),_t=e("option",{value:"InternalRedirect"},"Redireccion interna",-1),gt=e("option",{value:"ExternalSimpleRedirect"},"Redireccion externa simple",-1),ft=e("option",{value:"ExternalComplexRedirect"},"Redireccion externa condicional",-1),xt=[_t,gt,ft],ht=e("label",{for:"roles",class:"text-gray-700"},"Roles",-1),kt=["value"],$t={__name:"Index",props:{modulesProp:Array,availableRoles:Array},setup(m){const n=m,p=x(!1),b=x(!1),i=x([]),s=x({name:"",icon:"",visible:"",type:"",roles:[],payload:{}}),o=x({name:"",icon:"",visible:"",type:"",roles:[],payload:{}});B(()=>s.value.type,()=>{s.value.payload={}});const d=()=>(p.value=!0,p.value),v=()=>{p.value=!1},O=async()=>{const r=route("modules.store");try{const t=await axios.post(r,s.value);location.reload()}catch(t){console.log(t),alert("Ha ocurrido un error al crear el mÃ³dulo: ")}},E=r=>{b.value=!0;let t={...i.value[r]};t.roles=q(t.roles),t.payload=JSON.parse(t.payload),o.value=t,console.log(o.value),console.log(b.value)},M=async()=>{const r=route("modules.update",{module:o.value.id});try{await axios.patch(r,o.value),location.reload()}catch(t){return console.log(t,"Error de edicion"),alert("No se pudo actualizar")}},q=r=>r.map(t=>t.id);D(()=>{i.value=n.modulesProp});const L=r=>{s.value.payload=r},V=r=>{o.value.payload=r},A=async r=>{if(!confirm("seguro desea borrar?"))return;const t=`modules/${r}`;try{await axios.delete(t),N(r)}catch(l){alert("Hubo un problema al borrar el modulo seleccionado"+l)}},N=r=>{i.value=i.value.filter(t=>t.id!==r)};return(r,t)=>(a(),_(H,{class:"bg-unibague-blue bg-opacity-5"},{default:P(()=>[e("div",null,[e("div",re,[e("div",ne,[e("div",ie,[e("table",de,[ue,e("tbody",ce,[(a(!0),c(w,null,I(i.value,(l,g)=>(a(),c("tr",{key:g},[e("td",pe,[e("div",be,[e("div",me,[e("div",ye,f(l.name),1)])])]),e("td",ve,[e("div",_e,[e("div",ge,[e("div",fe,f(l.icon),1)])])]),e("td",xe,[e("div",he,[e("div",ke,[e("div",we,f(l.type),1)])])]),e("td",Le,[e("div",Ve,[e("div",Ie,[e("div",$e,f(l.visible),1)])])]),e("td",Se,[e("div",Re,[e("div",Ce,[e("div",Ue,[e("button",{onClick:j=>E(g)},Me,8,Oe)])])])]),e("td",qe,[e("div",Ae,[e("div",Ne,[e("div",je,[e("button",{onClick:j=>A(l.id)},Pe,8,Be)])])])])]))),128))])])])])])]),T(z,{onClick:d,class:"ml-6 mt-8"}),b.value?(a(),c("div",Te,[e("div",He,[e("div",ze,[Fe,u(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>o.value.name=l),type:"text",name:"name",id:"name",required:"",class:"w-full mt-2 px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[h,o.value.name]])]),e("div",Je,[Ge,u(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>o.value.icon=l),type:"text",name:"icon",id:"icon",required:"",placeholder:"/../../public/assets/Unibague_logo.jpg",class:"w-full mt-2 px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[h,o.value.icon]])]),e("div",Ke,[Qe,We,u(e("input",{type:"radio","onUpdate:modelValue":t[2]||(t[2]=l=>o.value.visible=l),name:"visible",id:"visible",required:"",value:1,class:"mr-5 ml-1 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[k,o.value.visible]]),Xe,u(e("input",{type:"radio","onUpdate:modelValue":t[3]||(t[3]=l=>o.value.visible=l),name:"visible",id:"noVisible",required:"",value:0,class:"ml-1 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[k,o.value.visible]])]),Ye,u(e("select",{"onUpdate:modelValue":t[4]||(t[4]=l=>o.value.type=l),class:"bg-gray-50 mb-4 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},ot,512),[[$,o.value.type]]),lt,(a(!0),c(w,null,I(m.availableRoles,l=>(a(),c("div",{key:l.id,class:"flex"},[u(e("input",{type:"checkbox",value:l.id,"onUpdate:modelValue":t[5]||(t[5]=g=>o.value.roles=g),class:"mr-2 rounded"},null,8,st),[[S,o.value.roles]]),e("label",null,f(l.name),1)]))),128)),o.value.type==="InternalRedirect"?(a(),_(R,{key:0,payload:o.value.payload,onUpdated:V},null,8,["payload"])):y("",!0),o.value.type==="ExternalSimpleRedirect"?(a(),_(C,{key:1,payload:o.value.payload,onUpdated:V},null,8,["payload"])):y("",!0),o.value.type==="ExternalComplexRedirect"?(a(),_(U,{key:2,payload:o.value.payload,onUpdated:V},null,8,["payload"])):y("",!0),e("div",at,[e("button",{type:"button",onClick:t[6]||(t[6]=()=>{b.value=!1}),class:"px-4 py-2 mr-2 bg-gray-300 text-gray-700 rounded-full hover:bg-gray-400 transition duration-200"}," Cerrar "),e("button",{onClick:M,class:"px-4 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition duration-200"}," Aceptar ")])])])):y("",!0),p.value?(a(),c("div",rt,[e("div",nt,[e("div",it,[dt,u(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>s.value.name=l),type:"text",name:"name",id:"name",required:"",class:"w-full mt-2 px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[h,s.value.name]])]),e("div",ut,[ct,u(e("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>s.value.icon=l),type:"text",name:"icon",id:"icon",required:"",placeholder:"/../../public/assets/Unibague_logo.jpg",class:"w-full mt-2 px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[h,s.value.icon]])]),e("div",pt,[bt,mt,u(e("input",{type:"radio","onUpdate:modelValue":t[9]||(t[9]=l=>s.value.visible=l),name:"visible",id:"visible",required:"",value:!0,class:"mr-5 ml-1 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[k,s.value.visible]]),yt,u(e("input",{type:"radio","onUpdate:modelValue":t[10]||(t[10]=l=>s.value.visible=l),name:"visible",id:"noVisible",required:"",value:!1,class:"ml-1 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[k,s.value.visible]])]),vt,u(e("select",{"onUpdate:modelValue":t[11]||(t[11]=l=>s.value.type=l),class:"bg-gray-50 mb-4 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},xt,512),[[$,s.value.type]]),ht,(a(!0),c(w,null,I(m.availableRoles,l=>(a(),c("div",{key:l.id,class:"flex"},[u(e("input",{type:"checkbox",value:l.id,"onUpdate:modelValue":t[12]||(t[12]=g=>s.value.roles=g),class:"mr-2 rounded"},null,8,kt),[[S,s.value.roles]]),e("label",null,f(l.name),1)]))),128)),s.value.type==="InternalRedirect"?(a(),_(R,{key:0,payload:s.value.payload,onUpdated:L},null,8,["payload"])):y("",!0),s.value.type==="ExternalSimpleRedirect"?(a(),_(C,{key:1,payload:s.value.payload,onUpdated:L},null,8,["payload"])):y("",!0),s.value.type==="ExternalComplexRedirect"?(a(),_(U,{key:2,payload:s.value.payload,onUpdated:L},null,8,["payload"])):y("",!0),e("div",{class:"text-center"},[e("button",{type:"button",onClick:v,class:"px-4 py-2 mr-2 bg-gray-300 text-gray-700 rounded-full hover:bg-gray-400 transition duration-200"}," Cerrar "),e("button",{onClick:O,class:"px-4 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition duration-200"}," Aceptar ")])])])):y("",!0)]),_:1}))}};export{$t as default};
